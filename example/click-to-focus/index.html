<html>
<head>
  <style> body { margin: 0; } </style>

  <!-- <script src="https://unpkg.com/three"></script> -->
  <script src="https://unpkg.com/d3-force-3d"></script>
  <script src="https://unpkg.com/3d-force-graph"></script>
</head>

<body>
  <div id="3d-graph"></div>
  <script>

    const graphData = {
      nodes: [
        {id:"Alice"},
        {id:"Bob"},
        {id:"George"}
      ],
      links: [
        {source: "Alice", target:"George", sourceLevel: 6},
        {source: "George", target:"Bob", sourceLevel: 7}
      ]
    };

    const elem = document.getElementById('3d-graph');
    const Graph = ForceGraph3D()(elem)
      .graphData(graphData);

    const graphLinksSubset = graphData.links
      .filter( link => link.sourceLevel === 6 );
    const graphNodesSubset = graphLinksSubset
      .map( link => {
        return [
          graphData.nodes
            .find( node => node.id === link.source ),
          graphData.nodes
            .find( node => node.id === link.target )
        ] }).flat();
    const graphDataSubset = {
      nodes: [...graphNodesSubset],
      links: [...graphLinksSubset]
    }

    Graph.d3Force('link')
      .links(graphDataSubset)
      .distance( link=> {
        return 200;
      //   return link.sourceLevel === 6 ?
      //     50 : 200
      } )
      .id( node => node.id )
      // .strength( d => linkStrength(d) )


// SAME RESULT HERE--
    // Graph.d3Force('link', d3.forceLink(graphDataSubset)
    //   .links(graphDataSubset)
    //   .distance( link=> {
    //     return 200;
    //     // return link.sourceLevel === 5 ?
    //     //   50 : 200
    //   } )
    //   .id( node => node.id )
    //   // .strength( d => linkStrength(d) )
    // );


  </script>
</body>
</html>
